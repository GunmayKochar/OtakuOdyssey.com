<!DOCTYPE html>
<html lang="en">
<head>
    <title>KOCHAR TOURISM</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <!-- Bootstrap CSS -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.css">

    <!--Required meta tag that's supposed to be after Bootstrap(CSS)-->
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">

   <!-- EmailJS API (Code from EmailJS website)  -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/emailjs-com@2.4.1/dist/email.min.js"></script>
    <script type="text/javascript">
        (function(){
           emailjs.init("user_MYwFFLtpXfxcryP8yyImH");
        })();
    </script>
    <script type="text/javascript">
        window.onload = function() {
            document.getElementById('contact-form').addEventListener('submit', function(event) {
                event.preventDefault();
                // generate the contact number value
                this.contact_number.value = Math.random() * 100000 | 0;
                emailjs.sendForm("gmail", "contact_form", this);
            });
        }
    </script>
</head>

<body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-sm navbar-dark bg-dark sticky-top">
        <a href="#" class="navbar-brand">Home <i class="far fa-smile"></i></a>
        <button class="navbar-toggler" data-toggle="collapse" data-target="#navbarMenu">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarMenu">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a href="#search" class="nav-link">Search</a>
                </li>
                <li class="nav-item">
                    <a href="#contact" class="nav-link">Contact</a>
                </li>
            </ul>
        </div>
    </nav>

    <section id="intro">
        <div class="container-fluid">
            <div class="welcomepage row">
                <div class="col-12">
                    <!-- Title in its own div so as to be able to enclose it in a semi-opaque box that seems to hover on top of the background image -->
                    <div class="title">
                        <h1>KOCHAR TOURISM</h1>
                    </div>

                    <div class="about">
                        <!-- About info in its own div so as to be able to enclose it in a semi-opaque box that seems to hover on top of the background image -->
                        <p>On the hunt for Tokyo's most happening spots? Look no further than KOCHAR TOURISM! We've rounded up the ultimate locales for enthusiasts like you, whether you're a fan of manga, anime, or gaming. Just select your passion from the dropdown menu below, and embark on an adventure reminiscent of the strategic battles of Miyuki Shirogane and Kaguya Shinomiya, or the emotional melodies of Kousei Arima and Kaori Miyazono! </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="search">
        <div class="container-fluid">
            <div class="mappage row">
                <div class="col-12 col-md-6 my-auto">
                    <!-- Dropdown that allows the user to select their interest and see relevant locations rendered on map -->
                    <label for = "options">Choose your interest:</label>
                    <select id="options" onchange="initMap();"> 
                        <option value="animemanga">Anime and Manga</option>
                        <option value="Sushi">Sushi and Food</option>
                        <option value="videogames">Video Games</option>
                    </select>

                </div>

                <div class="col-12 col-md-6 my-auto">
                    <!-- Map to render map -->
                    <div id="map">

                    </div>

                </div>

            </div>
        </div>
    </section>

    <section id="contact">
        <div class="container-fluid">
            <!-- Contact Page -->
            <div class="contactpage row">
                <div class="col-12 my-auto">
                    <h2><u>Got Feedback?</u></h2>
                    <!-- Included this disclaimer because user privacy policy and GDPR are 
                        more relevant in today's climate than ever before -->
                    <small class="form-text text-muted">We'll never share your personal details with anyone else.</small>
                    <!-- Integrated contact form -->
                    <form id="integrated-contact-form" class="form">
                        <div class="input-wrapper">
                            <input type="text" class="form-control" name="user_name" placeholder="Name" required>
                            <input type="email" class="form-control" name="user_email" placeholder="Email" required>
                        </div>
                        <textarea name="message" class="form-control" rows="3" placeholder="Message" required></textarea>
                        <button class="form-btn" type="submit">
                            <ion-icon name="paper-plane"></ion-icon>
                            <span>Send Message</span>
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </section>
    
    <script src="https://cdn.emailjs.com/dist/email.min.js"></script>
    <script>
        (function(){
            emailjs.init("o3BCWfzbOl3H7l5P3");
        })();
    
        document.getElementById('integrated-contact-form').addEventListener('submit', function(event) {
            event.preventDefault();
            emailjs.sendForm('service_0xvbezo', 'template_y5v1f5d', this)
                .then(function(response) {
                    console.log('Email sent successfully!', response);
                    alert('Your message has been sent. We will get back to you shortly.');
                    // Optionally, you can clear the form fields after successful submission
                    document.getElementById("user_name").value = "";
                    document.getElementById("user_email").value = "";
                    document.getElementById("message").value = "";
                }, function(error) {
                    console.error('Error sending email:', error);
                    alert('Oops! An error occurred while sending your message. Please try again later.');
                });
        });
    </script>
    
    <footer>
        <!-- Social media handles in footer -->
        <div class="s-m">
            <a href="https://www.instagram.com/gunmaykochar/" target="_blank"><i class="fab fa-instagram"></i></a>
            <a href="https://twitter.com/GunmayKochar" target="_blank"><i class="fab fa-twitter-square"></i></a>
            <a href="https://www.linkedin.com/in/gunmay-kochar-78b165274/" target="_blank"><i class="fab fa-linkedin"></i></a>
            <a href="https://github.com/GunmayKochar" target="_blank"><i class="fab fa-github-square"></i></a>
        </div>

    </footer>
    <script>
    </script>
    <script src="assets/data.js"></script>
    <script src="assets/map.js"></script>
    <script src="https://unpkg.com/@google/markerclustererplus@4.0.1/dist/markerclustererplus.min.js"></script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBxVT96vkIfvGuSCWVfoSErjdEgkPiQirA&callback=initMap"></script>
</body>
</html>